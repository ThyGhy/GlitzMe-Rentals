<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>{{ site_settings.get('business_name', 'GlitzME Rentals') }} - Las Vegas Party Rentals & Experiences</title>
    <meta name="description" content="{{ site_settings.get('meta_description', 'Las Vegas premier party rental company. Family-owned business offering bounce houses, waterslides, tables, chairs, arcade games & complete party packages. Professional service, competitive prices.') }}">
    <meta name="keywords" content="{{ site_settings.get('meta_keywords', 'Las Vegas party rentals, bounce house rental, waterslide rental, table chair rental, party equipment, arcade games, Las Vegas events, family business') }}">
    <meta property="og:title" content="GlitzME Rentals - Las Vegas Party Rentals">
    <meta property="og:description" content="Las Vegas premier party rental company offering bounce houses, waterslides, tables, chairs & complete party packages.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://glitzmerentals.com">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="GlitzME Rentals - Las Vegas Party Rentals">
    <meta name="twitter:description" content="Las Vegas premier party rental company offering bounce houses, waterslides, tables, chairs & complete party packages.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/webp" sizes="32x32" href="{{ url_for('static', filename='Images/Logos/GMLogo-mobile.webp') }}">
    <link rel="icon" type="image/webp" sizes="16x16" href="{{ url_for('static', filename='Images/Logos/GMLogo-mobile.webp') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='Images/Logos/GMLogo-mobile.webp') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='Images/Logos/GMLogo-mobile.webp') }}">
    
    <!-- Preconnect to external domains for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- Preload critical hero image - Mobile-optimized loading strategy -->
    <link rel="preload" as="image" href="{{ url_for('static', filename='Images/Logos/glitzme-hero-mobile.webp') }}" media="(max-width: 768px)">
    <link rel="preload" as="image" href="{{ url_for('static', filename='Images/Logos/glitzme-hero-main.webp') }}" media="(min-width: 769px)">
    
    <!-- Preload navigation logo for performance -->
    <link rel="preload" as="image" href="{{ url_for('static', filename='Images/Logos/GMLogo-mobile.webp') }}" media="(max-width: 768px)">
    <link rel="preload" as="image" href="{{ url_for('static', filename='Images/Logos/GMLogo-optimized.webp') }}" media="(min-width: 769px)">
    
    <!-- Font loading with improved accessibility -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" as="style">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" media="print" onload="this.media='all'; this.onload=null;">
    
    <!-- Critical CSS for above-the-fold content -->
    <style>
        /* Critical CSS for immediate rendering */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif; 
            background: #000; 
            color: #fff; 
            overflow-x: hidden; 
        }
        .navbar { position: fixed; top: 0; width: 100%; background: rgba(40, 40, 40, 0.95); backdrop-filter: blur(10px); z-index: 1000; padding: 0.8rem 0; }
        .nav-container { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; flex-direction: column; align-items: center; gap: 1rem; }
        .nav-logo img { height: 90px; width: auto; transition: height 0.3s ease; }
        .hero { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%); padding: 6rem 0; margin-top: 120px; }
        .hero-content { text-align: center; max-width: 1200px; margin: 0 auto; display: flex; flex-direction: column; gap: 4rem; }
        .hero-image { width: 100%; max-width: 800px; height: auto; margin: 0 auto 2rem; display: block; filter: drop-shadow(0 6px 20px rgba(44, 110, 184, 0.25)); transition: all 0.3s ease; }
        h1, h2, h3 { font-family: 'Playfair Display', Georgia, 'Times New Roman', serif; }
        
        /* Mobile-first hero image optimization */
        @media (max-width: 768px) {
            .nav-container { flex-direction: row; justify-content: space-between; padding: 0 15px; }
            .nav-logo img { height: 40px; }
            .hero { padding: 3rem 15px; margin-top: 70px; min-height: calc(100vh - 70px); }
            .hero-image { 
                max-width: 220px; 
                height: 220px; 
                object-fit: contain;
                aspect-ratio: 1;
            }
            .hero-content { gap: 2rem; }
            .carousel-item { min-height: 220px; display: flex; align-items: center; justify-content: center; }
        }
        
        /* Optimize for very small mobile screens */
        @media (max-width: 480px) {
            .hero { padding: 2rem 10px; margin-top: 60px; }
            .hero-image { max-width: 180px; height: 180px; }
            .carousel-item { min-height: 180px; }
        }
        
        /* Performance hint for modern browsers */
        .hero-image {
            content-visibility: auto;
            contain: layout style paint;
        }
        
        /* Admin access link in footer */
        .footer-bottom-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .admin-access-link {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            font-size: 0.85rem;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.3s ease;
            opacity: 0.7;
        }
        
        .admin-access-link:hover {
            color: var(--primary-blue-vibrant);
            background: rgba(44, 110, 184, 0.1);
            opacity: 1;
        }
        
        @media (max-width: 768px) {
            .footer-bottom-content {
                flex-direction: column;
                text-align: center;
                gap: 0.5rem;
            }
        }
    </style>
    
    <!-- Responsive CSS Loading - Mobile for small screens and portrait orientation -->
    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/mobile.css') }}?v=20250604080112" media="screen and (max-width: 768px), screen and (max-height: 600px)">
    <!-- Desktop CSS for larger screens and landscape orientation -->
    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/desktop.css') }}?v=20250604080112" media="screen and (min-width: 769px) and (min-height: 601px)">
    
    <!-- Font Awesome with improved accessibility -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" as="style">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'; this.onload=null;">
    
    <!-- Mobile-optimized loading script -->
    <script>
        // Ensure CSS loads even if onload doesn't fire
        (function() {
            var fontLink = document.querySelector('link[href*="fonts.googleapis.com"]');
            var iconLink = document.querySelector('link[href*="font-awesome"]');
            
            setTimeout(function() {
                if (fontLink && fontLink.media === 'print') {
                    fontLink.media = 'all';
                }
                if (iconLink && iconLink.media === 'print') {
                    iconLink.media = 'all';
                }
            }, 100);
            
            // Mobile-specific optimizations
            if (window.innerWidth <= 768) {
                // Add mobile performance hints
                var heroImage = document.querySelector('.hero-image');
                if (heroImage) {
                    // Priority hint for mobile
                    heroImage.style.willChange = 'transform';
                    // Force hardware acceleration
                    heroImage.style.transform = 'translateZ(0)';
                }
                
                                 // Defer non-critical hero animations on mobile
                 document.addEventListener('DOMContentLoaded', function() {
                     // Use intersection observer for performance
                     if ('IntersectionObserver' in window) {
                         var heroObserver = new IntersectionObserver(function(entries) {
                             entries.forEach(function(entry) {
                                 if (entry.isIntersecting) {
                                     // Preload second carousel image only when hero is visible
                                     var link = document.createElement('link');
                                     link.rel = 'prefetch';
                                     link.href = '{{ url_for("static", filename="Images/HomePageAdverts/SumemrSaleGM.webp") }}';
                                     document.head.appendChild(link);
                                     heroObserver.disconnect();
                                 }
                             });
                         }, { threshold: 0.1 });
                         
                         var heroElement = document.querySelector('.hero');
                         if (heroElement) {
                             heroObserver.observe(heroElement);
                         }
                     } else {
                         // Fallback for older browsers
                         var link = document.createElement('link');
                         link.rel = 'prefetch';
                         link.href = '{{ url_for("static", filename="Images/HomePageAdverts/SumemrSaleGM.webp") }}';
                         document.head.appendChild(link);
                     }
                 });
             }
        })();
    </script>
</head>
<body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="{{ url_for('index') }}" aria-label="GlitzME Rentals Home" class="active" aria-current="page">
                    <img src="{{ url_for('static', filename='Images/Logos/GMLogo-optimized.webp') }}" 
                         srcset="{{ url_for('static', filename='Images/Logos/GMLogo-mobile.webp') }} 768w, 
                                 {{ url_for('static', filename='Images/Logos/GMLogo-optimized.webp') }} 1200w"
                         sizes="(max-width: 768px) 50px, 90px"
                         alt="GlitzME Rentals Logo"
                         loading="eager"
                         fetchpriority="high"
                         width="90"
                         height="58"
                         decoding="async">
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="{{ url_for('rentals') }}">Rentals</a></li>
                <li><a href="{{ url_for('packages') }}">Packages</a></li>
                <li><a href="{{ url_for('about') }}">About</a></li>
                <li><a href="{{ url_for('gallery') }}">Gallery</a></li>
                <li><a href="{{ url_for('contact_page') }}">Contact</a></li>
            </ul>
            <button class="hamburger" aria-label="Toggle menu" aria-expanded="false" aria-controls="nav-menu">
                <span class="sr-only">Menu</span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <section class="hero" aria-labelledby="hero-title">
            <div class="container">
                <div class="hero-content">
                    <h1 id="hero-title" class="sr-only">GlitzME Rentals - Las Vegas Party Rentals</h1>
                    <div class="hero-carousel">
                        {% for item in carousel_items %}
                        <div class="carousel-item {% if loop.first %}active{% endif %}" data-index="{{ loop.index0 }}">
                            {% if item.link_url %}
                            <a href="{{ item.link_url }}" class="promo-link" aria-label="{{ item.link_text or item.alt_text }}">
                            {% endif %}
                                <img src="{{ url_for('static', filename=item.mobile_image_path or item.image_path) }}" 
                                     {% if item.mobile_image_path and item.image_path != item.mobile_image_path %}
                                     srcset="{{ url_for('static', filename=item.mobile_image_path) }} 480w, 
                                             {{ url_for('static', filename=item.image_path) }} 800w"
                                     {% endif %}
                                     sizes="(max-width: 768px) 220px, 800px"
                                     alt="{{ item.alt_text }}" 
                                     class="hero-image" 
                                     loading="{% if loop.first %}eager{% else %}lazy{% endif %}"
                                     {% if loop.first %}fetchpriority="high"{% endif %}
                                     width="{% if loop.first %}220{% else %}800{% endif %}"
                                     height="{% if loop.first %}220{% else %}800{% endif %}"
                                     decoding="async">
                            {% if item.link_url %}
                            </a>
                            {% endif %}
                        </div>
                        {% endfor %}
                        <div class="carousel-nav">
                            {% for item in carousel_items %}
                            <button class="carousel-dot {% if loop.first %}active{% endif %}" data-index="{{ loop.index0 }}" aria-label="{{ item.title }}"></button>
                            {% endfor %}
                        </div>
                    </div>
                
                    <!-- Meet the Team Section -->
                    <section class="team-section" aria-labelledby="team-section-title">
                        <div class="section-header">
                            <h2 id="team-section-title">Meet the Team</h2>
                            <p>{{ site_settings.get('team_section_quote', '"None of us is as smart as all of us." - Ken Blanchard') }}</p>
                        </div>
                        <div class="team-grid">
                            {% for member in team_members %}
                            <article class="team-member">
                                <div class="member-photo">
                                    <img src="{{ url_for('static', filename=member.image_path) }}" 
                                         {% if member.mobile_image_path %}
                                         srcset="{{ url_for('static', filename=member.mobile_image_path) }} 480w, 
                                                 {{ url_for('static', filename=member.image_path) }} 800w"
                                         {% endif %}
                                         sizes="(max-width: 480px) 200px, 300px"
                                         alt="Photo of {{ member.name }}" 
                                         class="team-photo"
                                         loading="lazy"
                                         decoding="async"
                                         width="300"
                                         height="300">
                                </div>
                                <div class="member-info">
                                    <h3>{{ member.name }}</h3>
                                    <p class="member-role">{{ member.role }}</p>
                                    
                                </div>
                            </article>
                            {% endfor %}
                        </div>
                    </section>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <nav class="footer-section quick-links" aria-label="Footer quick links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="{{ url_for('rentals') }}">Rentals</a></li>
                        <li><a href="{{ url_for('packages') }}">Package Deals</a></li>
                        <li><a href="{{ url_for('gallery') }}">Gallery</a></li>
                        <li><a href="{{ url_for('about') }}">About Us</a></li>
                        <li><a href="{{ url_for('contact_page') }}">Contact</a></li>
                    </ul>
                </nav>
                <div class="footer-section rentals-info">
                    <h3>GlitzME Rentals</h3>
                    <p>{{ site_settings.get('business_description', 'Local Family Owned party rental business serving the Las Vegas Valley. Creating memorable experiences with exceptional customer service - there\'s no other way but the GlitzME WAY!') }}</p>
                    <div class="social-links">
                        <a href="{{ site_settings.get('instagram_url', 'https://www.instagram.com/glitzme_rentals/') }}" 
                           target="_blank" 
                           rel="noopener noreferrer" 
                           class="instagram-link"
                           aria-label="Follow us on Instagram (opens in new tab)">
                            <i class="fab fa-instagram" aria-hidden="true"></i>
                            <span>Follow Us on Instagram!</span>
                        </a>
                    </div>
                </div>
                <div class="footer-section social">
                    <h3>Contact Info</h3>
                    <ul>
                        <li>Phone: {{ site_settings.get('phone_primary', '(702) 344-4717') }}</li>
                        {% if site_settings.get('phone_secondary') %}
                        <li>Phone: {{ site_settings.get('phone_secondary') }}</li>
                        {% endif %}
                        <li>Email: {{ site_settings.get('email', 'Glitzme.rentals21@gmail.com') }}</li>
                        <li>{{ site_settings.get('address', 'Las Vegas, NV') }}</li>
                        <li>{{ site_settings.get('tagline', 'Family Owned & Operated') }}</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-bottom-content">
                    <p>&copy; 2025 Glitzme LLC. All rights reserved.</p>
                    <a href="{{ url_for('admin_login') }}" class="admin-access-link">
                        <i class="fas fa-cog"></i> Admin
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- External JavaScript -->
    <script src="{{ url_for('static', filename='js/main.js') }}" defer></script>

    <!-- Add carousel JavaScript before closing body tag -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const carousel = document.querySelector('.hero-carousel');
            const items = carousel.querySelectorAll('.carousel-item');
            const dots = carousel.querySelectorAll('.carousel-dot');
            let currentIndex = 0;
            const interval = 10000; // 10 seconds

            function showItem(index) {
                items.forEach(item => {
                    item.classList.remove('active');
                    item.setAttribute('aria-hidden', 'true');
                });
                dots.forEach(dot => dot.classList.remove('active'));
                
                items[index].classList.add('active');
                items[index].removeAttribute('aria-hidden');
                dots[index].classList.add('active');
                currentIndex = index;
            }

            // Auto switch
            setInterval(() => {
                const nextIndex = (currentIndex + 1) % items.length;
                showItem(nextIndex);
            }, interval);

            // Manual navigation with dots
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const index = parseInt(dot.dataset.index);
                    showItem(index);
                });
            });
        });
    </script>
</body>
</html>

